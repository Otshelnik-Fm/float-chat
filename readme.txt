== Установка/Обновление ==

<h3 style="text-align: center;">Установка:</h3>
Т.к. это дополнение для WordPress плагина <a href="https://codeseller.ru/groups/plagin-wp-recall-lichnyj-kabinet-na-wordpress/" target="_blank">WP-Recall</a>, то оно устанавливается через <a href="https://codeseller.ru/obshhie-svedeniya-o-dopolneniyax-wp-recall/" target="_blank"><strong>менеджер дополнений WP-Recall</strong></a>.

1. В админке вашего сайта перейдите на страницу "WP-Recall" -> "Дополнения" и в самом верху нажмите на кнопку "Обзор", выберите .zip архив дополнения на вашем пк и нажмите кнопку "Установить".
2. В списке загруженных дополнений, на этой странице, найдите это дополнение, наведите на него курсор мыши и нажмите кнопку "Активировать". Или выберите чекбокс и в выпадающем списке действия выберите "Активировать". Нажмите применить.


<h3 style="text-align: center;">Обновление:</h3>
Дополнение поддерживает <a href="https://codeseller.ru/avtomaticheskie-obnovleniya-dopolnenij-plagina-wp-recall/" target="_blank">автоматическое обновление</a> - два раза в день отправляются вашим сервером запросы на обновление.
Если в течении суток вы не видите обновления (а на странице дополнения вы видите что версия вышла новая), советую ознакомиться с этой <a href="https://codeseller.ru/post-group/rabota-wordpress-krona-cron-prinuditelnoe-vypolnenie-kron-zadach-dlya-wp-recall/" target="_blank">статьёй</a>



== Настройки ==
Имеются настройки в админке: "WP-Recall" -> "Настройки" -> "Настройки Float Chat"

* Возможность вывести кнопку вызова всплывающего чата: автоматически или шорткодом (вручную)
* При выводе кнопки автоматически в опциях задается ее положение: сверху/снизу и отступ от выбранного края
* Возможность задать текст кнопки и иконку кнопки
* Задать заголовок чата
* Вкл/откл возможность обмениваться файлами в чате
* Вкл/откл возможность гостям просматривать чат

При настройках вывода вручную, в нужное место вставьте шорткод  <code>[fchat_init]</code>

Еще можно прокачать функционал с помощью Автобота и его Чат-ботов (смотри вкладку FAQ)


== FAQ ==
<h3>Так как прокачать его Автоботом и чат-ботами?</h3>
Чтобы вашим пользователям было веселей если они одни в чате - установите ботов.
- вы можете установить дополнение <a href="https://codeseller.ru/products/autobot-cabinet/" target="_blank">"Автобот"</a> (обязателен для чат-ботов), а для него доступны <a href="https://codeseller.ru/product_tag/chat-bot/" target="_blank">чат-боты</a>

дополнения чат-ботов: 
<a href="https://codeseller.ru/?p=17441" target="_blank">Bot AnekBot (анекдоты)</a>
<a href="https://codeseller.ru/?p=17446" target="_blank">Bot Bash.org (истории с Bash.org)</a>
<a href="https://codeseller.ru/?p=17450" target="_blank">Bot Exchange Rates (курсы доллара и евро)</a>
<a href="https://codeseller.ru/?p=17454" target="_blank">Bot Rules (правила чата)</a>
<a href="https://codeseller.ru/?p=17458" target="_blank">Bot User Info (информация о пользователе и краткая статистика)</a>
<a href="https://codeseller.ru/?p=17655" target="_blank">Bot Weather In The City (Погода в заданном городе)</a>



<h3>Как я могу поменять для гостя сообщение что нужно войти на сайт?</h3>
- в настройках дополнения переключить "Гости могут видеть последние сообщения в чате" на "Нет" и можно кастомизировать шаблон:
- Дополнение использует функционал шаблонов WP-Recall. 
Шаблон <code>fchat-guest-info.php</code> - как раз выводящий информацию для гостей. Можете поменять текст, вставить изображение, свою вёрстку.

Как работать с шаблонами описано <a href="https://codeseller.ru/post-group/ispolzuem-funkcional-shablonov-v-plagine-wp-recall-spisok-shablonov/" target="_blank"><strong>здесь</strong></a>.
- копируете нужный файл и меняете его.

<h3>Я могу сменить иконку кнопки, положение кнопки, отступ и текст кнопки?</h3>
- да. В настройках всё есть.

<h3>Как вывести кнопку в нужном месте?</h3>
- в настройках выберите "Вывод кнопки чата" -> "Выведу шорткодом или вручную"
и в нужное место вставьте шорткод <code>[fchat_init]</code> (в текстовый или html-виджет)

<h3>Как вывести кнопку программно?</h3>
- кнопку также можно вызвать функцией <code>fchat_button($dop_class)</code> где <code>$dop_class</code>(строка) дополнительный класс кнопки. Если пусто - "fc_manual"

- также можно вписать класс <code>fc_wrap</code> в вашу кнопку - по этому классу происходит срабатывание всплывающего окна

<h3>Какой смысл в этом чате? - ведь в реколл уже есть шорткод чата</h3>
- это всплывающий чат. Он доступен на всех страницах вашего сайта.

Даже если вы выведите реколл чат с помощью шорткода <a href="https://codeseller.ru/api-rcl/rcl-chat/" target="_blank">rcl-chat</a> - в сайдбаре... Да - он будет доступен на всех страницах вашего сайта.
Но! Он будет всегда посылать ajax-запросы на получение новых сообщений со всех страниц вашего сайта. И это увеличит нагрузку на ваш хостинг.
Так что такой подход не рационален. Этот шорткод нужно размещать на отдельной странице.

<strong>Итак, еще раз про Float Chat:</strong>
Ссылка на этот чат присутствует на всех страницах вашего сайта и чат начинает работу, только когда он вызван, и заканчивает работу по закрытию:
Нажав на кнопку закрыть, или по оверлею - чат полностью закрывается и перестает посылать ajax-запросы.   
Это выгодно отличает его от простой вставки шорткода rcl-chat.

Это расширяет и упрощает общение ваших пользователей.  

С версии 2.0 дополнения, чат гостям (не залогиненным) не отправляет ajax-запросы. Они видят просто последние сообщения чата или заглушку. Смотря что вы выбрали в настройках.

- такой вот смысл. Получаем рациональное использование своего сервера. И платим за хостинг меньше))


== Changelog ==
= 2018-10-31 =
v2.0.0
* поддержка WP-Recall 16.16
* доп переписан
* скрипты и стили грузятся в зависимости от ситуации и настроек и минимизированы
* кнопка выводится не через вкладку ЛК, а своим способом (старый способ создавал неверные внутренние урл, которые детектили СЕО утилиты).
* для гостей убрал автоополучение новых сообщений чата и возможность просматривать по страницам
* добавлен js-хук <code>fc_load_chat</code> - срабатывает при загрузке всплывающего чата
* возможность в настройках задать текст кнопки и иконку
* возможность вывести не только шорткодом, но и вставив просто html кнопки в нужное место
* кнопку также можно вызвать функцией <code>fchat_button($dop_class)</code> где <code>$dop_class</code>(строка) дополнительный класс кнопки. Если пусто - "fc_manual"
* опция - автоматический вывод кнопки (если не шорткодом выводим) слева вверху, слева внизу
* опция - отступ кнопки от выбранного края
* плавное появление контента чата
* устранил убегание контента при загрузке чата, если в чате картинки или oEmbed
* проработал адаптивность



= 2017-12-03 =
v1.4.1
* Устранил "дерганье" кнопки при загрузке. 
Добавил принудительно скрытие кнопки в хедере. Разблокируется после загрузки стилей в подвале сайта и кнопка плавно появляется


= 2017-11-23 =
v1.4
* Внутренняя анимация переведена на используемый в WP-Recall animate-css
* Стили загружаются в подвале



= 2017-10-29 =
v1.3.1
* Убрал стили размытия контента при включении всплывающего чата. Возникал конфликт при срабатывании других модальных окнах.



= 2017-10-14 =
v1.3
* Исправлена ошибка вывода кнопки через шорткод
* Работа с 16-й версией плагина
* Корректировки по стилям
* Добавлена иконка дополнения


= 2017-02-16 =
v1.2
* Добавлена настройка - "Гости могут просматривать чат"
Вместо чата, гости увидят в всплывающем окне призыв: "Вам нужно войти на сайт, чтобы просматривать чат и общаться в чате!"
* Дополнение использует функционал шаблонов WP-Recall. 
Добавлен шаблон - как раз выводящий информацию для гостей. Можете поменять текст, вставить изображение, свою вёрстку.

Как работать с шаблонами описано <a href="https://codeseller.ru/post-group/ispolzuem-funkcional-shablonov-v-plagine-wp-recall-spisok-shablonov/" target="_blank"><strong>здесь</strong></a>.


= 2017-02-16 =
v1.1.2
* Исправлен баг - в хроме, при включении ютуб на воспроизведение в полноэкранном режиме


= 2016-11-01 =
v1.1.1
* Работа с версией WP-Recall 15.4
* Исправлен недочет при работе с новой версией реколл - спиннер загрузки чата выбился из блока.


= 2016-09-29 =
v1.1. 
* Опция: Задаем заголовок чата
* Опция: Отключаем возможность загрузки файлов (меньше скриптов грузится)
* По клику на кнопке запуска чата, в ожидании всплывающего окна, в кнопке крутится спиннер. Наглядно показывая - что наш клик обрабатывается
* При первой активации дополнение устанавливает свои первоначальные настройки


= 2016-09-10 =
v1.0
* Release



== Прочее ==

* Поддержка осуществляется в рамках текущего функционала дополнения
* При возникновении проблемы, создайте соотвествующую тему на <a href="https://codeseller.ru/forum/product-13245/" target="_blank">форуме поддержки товара</a>
* Если вам нужна доработка под ваши нужды - вы можете обратиться ко мне в <a href="https://codeseller.ru/author/otshelnik-fm/?tab=chat" target="_blank">ЛС</a> с техзаданием на платную доработку.

Полный список моих работ опубликован <a href="http://across-ocean.otshelnik-fm.ru/" target="_blank">на моем демо-сайте</a> и в каталоге магазина <a href="https://codeseller.ru/author/otshelnik-fm/?tab=publics&subtab=type-products" target="_blank">CodeSeller.ru</a>

